@import logic.GitHubV3Format.Contributor
@import logic.Analytics._
@(name: String, contributors: Seq[Contributor], userActivity: Seq[UserActivity], dateActivity: Seq[DateActivity])

@main(s"$name statistics") {

    <div class="panel panel-default">
        <div class="panel-heading">
            <h2 >Statistics for: <a href="https://github.com/@name">@name</a></h2>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-4 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">Contributors:</div>
                <div class="list-group">
                @for(r <- contributors) {
                    <a href="https://github.com/@r.login" class="list-group-item">
                        @r.login
                    </a>
                }
                </div>
            </div>
        </div>

        <div class="col-sm-8 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">Recently active (over last 100 commits):</div>
                <ul class="list-group">
                @for(c <- userActivity) {
                    <li class="list-group-item">
                        @c._1.map(_.login).getOrElse("Unknown users"): @c._2
                    </li>
                }
                </ul>
            </div>
        </div>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">Activity per date:</div>
        <ul class="list-group">
        @for(date <- dateActivity) {
            <li class="list-group-item">
                <div class="row">
                    <div class="col-xs-4">
                        @date._1
                    </div>
                    <div class="col-xs-8">
                        <ul class="list-group">
                        @for(user <- date._2) {
                            <li class="list-group-item">
                                @user._1.map(_.login).getOrElse("Unknown users"): @user._2
                            </li>
                        }
                        </ul>
                    </div>
                </div>
            </li>
        }
        </ul>
    </div>
}
